model Document {
  id          String              @id @default(uuid())
  title       String
  createdAt   DateTime            @default(now())
  updatedAt   DateTime            @updatedAt
  workspace   Workspace           @relation(fields: [workspaceId], references: [id])
  workspaceId String
  editor      Editor?             @relation(fields: [editorId], references: [id])
  editorId    String?
  diagram     ExcalidrawElement[]

  @@unique([editorId])
}

model Editor {
  id        String    @id @default(uuid())
  type      String?
  attrs     Json?
  content   Json?
  marks     Json?
  text      String?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  document  Document?
}

model ExcalidrawElement {
  id                 String   @id
  x                  Float
  y                  Float
  strokeColor        String
  backgroundColor    String
  fillStyle          String
  strokeWidth        Float
  strokeStyle        String
  roundnessType      String?
  roundnessValue     Float?
  roughness          Float
  opacity            Float
  width              Float
  height             Float
  angle              Float
  seed               Int
  version            Int
  versionNonce       Int
  isDeleted          Boolean
  groupIds           String[]
  frameId            String?
  boundElements      Json?
  updated            Int
  link               String?
  locked             Boolean
  customData         Json?
  type               String
  fontSize           Float?
  fontFamily         String?
  text               String?
  baseline           Float?
  textAlign          String?
  verticalAlign      String?
  containerId        String?
  originalText       String?
  lineHeight         Float?
  fileId             String?
  status             String?
  scale              Float[]
  name               String?
  validated          Boolean?
  points             Json?
  lastCommittedPoint Json?
  startBinding       Json?
  endBinding         Json?
  startArrowhead     String?
  endArrowhead       String?
  pressures          Json?
  simulatePressure   Boolean?
  document           Document @relation(fields: [documentId], references: [id])
  documentId         String
}

model ExcalidrawTextElement {
  id            String  @id
  type          String
  fontSize      Float
  fontFamily    String
  text          String
  baseline      Float
  textAlign     String
  verticalAlign String
  containerId   String?
  originalText  String
  lineHeight    Float
}

model ExcalidrawImageElement {
  id     String  @id
  type   String
  fileId String?
  status String
  scale  Float[]
}

model ExcalidrawFrameElement {
  id   String  @id
  type String
  name String?
}

model ExcalidrawLinearElement {
  id                 String  @id
  type               String
  points             Json
  lastCommittedPoint Json?
  startBinding       Json?
  endBinding         Json?
  startArrowhead     String?
  endArrowhead       String?
}

model ExcalidrawFreeDrawElement {
  id                 String  @id
  type               String
  points             Json
  pressures          Json
  simulatePressure   Boolean
  lastCommittedPoint Json?
}

model ExcalidrawEmbeddableElement {
  id        String   @id
  type      String
  validated Boolean?
}
